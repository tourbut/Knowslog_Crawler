import{s as G,a as H,b as J,f as L,d as C,h as N,i as O,q as Q,m as R,o as U,l as p,p as g}from"../chunks/scheduler.BCBMD59U.js";import{S as W,i as X,c as I,a as P,m as q,t as A,d as D,e as K,b as $}from"../chunks/index.vAY9TAJw.js";import{T as Y,a as E}from"../chunks/Tabs.DulY6okQ.js";import{T as V}from"../chunks/Table.CsZGUQfH.js";import{f as y,a as S}from"../chunks/fastapi.D42dMpzw.js";async function Z(l,e,a){await y("get","/settings/get_llm/",l,e,a)}async function x(l,e,a){await y("post","/settings/create_apikey/",l,e,a)}async function ee(l,e,a){await y("get","/settings/get_apikey/",l,e,a)}async function ae(l,e,a){await y("put","/settings/update_apikey/",l,e,a)}async function te(l,e,a){await y("post","/settings/create_userllm/",l,e,a)}async function le(l,e,a){await y("get","/settings/get_userllm/",l,e,a)}async function ne(l,e,a){await y("put","/settings/update_userllm/",l,e,a)}function ie(l){let e,a,i,o,n,s;function d(t){l[6](t)}function u(t){l[7](t)}function h(t){l[8](t)}function T(t){l[9](t)}let m={btn_id:"0",btn_click:onsubmit,is_editable:!0};return l[4]!==void 0&&(m.table_head=l[4]),l[2]!==void 0&&(m.table_body=l[2]),l[0]!==void 0&&(m.form_data=l[0]),l[1]!==void 0&&(m.formModal=l[1]),e=new V({props:m}),p.push(()=>$(e,"table_head",d)),p.push(()=>$(e,"table_body",u)),p.push(()=>$(e,"form_data",h)),p.push(()=>$(e,"formModal",T)),{c(){I(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,f){q(e,t,f),s=!0},p(t,f){const b={};!a&&f&16&&(a=!0,b.table_head=t[4],g(()=>a=!1)),!i&&f&4&&(i=!0,b.table_body=t[2],g(()=>i=!1)),!o&&f&1&&(o=!0,b.form_data=t[0],g(()=>o=!1)),!n&&f&2&&(n=!0,b.formModal=t[1],g(()=>n=!1)),e.$set(b)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function oe(l){let e,a,i,o,n,s;function d(t){l[10](t)}function u(t){l[11](t)}function h(t){l[12](t)}function T(t){l[13](t)}let m={btn_id:"1",btn_click:onsubmit,is_combo_modal:!0,is_editable:!0};return l[5]!==void 0&&(m.table_head=l[5]),l[3]!==void 0&&(m.table_body=l[3]),l[0]!==void 0&&(m.form_data=l[0]),l[1]!==void 0&&(m.formModal=l[1]),e=new V({props:m}),p.push(()=>$(e,"table_head",d)),p.push(()=>$(e,"table_body",u)),p.push(()=>$(e,"form_data",h)),p.push(()=>$(e,"formModal",T)),{c(){I(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,f){q(e,t,f),s=!0},p(t,f){const b={};!a&&f&32&&(a=!0,b.table_head=t[5],g(()=>a=!1)),!i&&f&8&&(i=!0,b.table_body=t[3],g(()=>i=!1)),!o&&f&1&&(o=!0,b.form_data=t[0],g(()=>o=!1)),!n&&f&2&&(n=!0,b.formModal=t[1],g(()=>n=!1)),e.$set(b)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){D(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function se(l){let e,a,i,o;return e=new E({props:{open:!0,title:"API 등록",$$slots:{default:[ie]},$$scope:{ctx:l}}}),i=new E({props:{title:"모델설정",$$slots:{default:[oe]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),a=R(),I(i.$$.fragment)},l(n){P(e.$$.fragment,n),a=U(n),P(i.$$.fragment,n)},m(n,s){q(e,n,s),O(n,a,s),q(i,n,s),o=!0},p(n,s){const d={};s&32791&&(d.$$scope={dirty:s,ctx:n}),e.$set(d);const u={};s&32811&&(u.$$scope={dirty:s,ctx:n}),i.$set(u)},i(n){o||(A(e.$$.fragment,n),A(i.$$.fragment,n),o=!0)},o(n){D(e.$$.fragment,n),D(i.$$.fragment,n),o=!1},d(n){n&&C(a),K(e,n),K(i,n)}}}function _e(l){let e,a,i;return a=new Y({props:{$$slots:{default:[se]},$$scope:{ctx:l}}}),{c(){e=H("div"),I(a.$$.fragment),this.h()},l(o){e=J(o,"DIV",{class:!0});var n=L(e);P(a.$$.fragment,n),n.forEach(C),this.h()},h(){N(e,"class","form-tabs")},m(o,n){O(o,e,n),q(a,e,null),i=!0},p(o,[n]){const s={};n&32831&&(s.$$scope={dirty:n,ctx:o}),a.$set(s)},i(o){i||(A(a.$$.fragment,o),i=!0)},o(o){D(a.$$.fragment,o),i=!1},d(o){o&&C(e),K(a)}}}function re(l,e,a){let i={},o=!1,n=[],s=[],d=[{id:0,name:"api_name",type:"string",desc:"API명"},{id:1,name:"api_key",type:"string",desc:"Key"},{id:2,name:"active_yn",type:"boolean",desc:"활성화여부"}],u=[{id:0,name:"name",type:"combo",desc:"모델",combo:[]},{id:1,name:"api_key",type:"combo",desc:"Key",combo:[]},{id:2,name:"active_yn",type:"boolean",desc:"활성화여부"}];async function h(){let _={},r=c=>{let j=c.map(v=>({value:v.id,name:v.name}));a(5,u[0].combo=j,u)},k=c=>{a(2,n=c);let j=c.map(v=>({value:v.id,name:v.api_key}));a(5,u[1].combo=j,u)},w=c=>{a(3,s=c)},M=c=>{S("error",c.detail)};await Z(_,r,M),await ee(_,k,M),await le(_,w,M)}Q(async()=>{await h()}),onsubmit=async _=>{_.preventDefault();let r=i,k=M=>{S("success","저장되었습니다."),h(),a(1,o=!1)},w=M=>{S("error",M.detail[0].msg)};if(Object.keys(r).length==0){S("error","값을 입력해주세요.");return}_.target.name=="btn_new"?_.target.id==0?await x(r,k,w):_.target.id==1&&(r={llm_id:r.name,api_id:r.api_key,active_yn:r.active_yn},await te(r,k,w)):_.target.id==0?await ae(r,k,w):_.target.id==1&&(r={id:r.id,llm_id:r.name,api_id:r.api_key,active_yn:r.active_yn},console.log(r),await ne(r,k,w))};function T(_){d=_,a(4,d)}function m(_){n=_,a(2,n)}function t(_){i=_,a(0,i)}function f(_){o=_,a(1,o)}function b(_){u=_,a(5,u)}function z(_){s=_,a(3,s)}function B(_){i=_,a(0,i)}function F(_){o=_,a(1,o)}return[i,o,n,s,d,u,T,m,t,f,b,z,B,F]}class ce extends W{constructor(e){super(),X(this,e,re,_e,G,{})}}export{ce as component};
